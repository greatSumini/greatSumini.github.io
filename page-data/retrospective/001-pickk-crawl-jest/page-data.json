{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/retrospective/001-pickk-crawl-jest/","result":{"data":{"site":{"siteMetadata":{"title":"ìµœìˆ˜ë¯¼ ê°œë°œ ë¸”ë¡œê·¸","siteUrl":"https://sumini.dev"}},"markdownRemark":{"id":"58ac9f9c-330d-57f5-b598-4e5e81e0478f","excerpt":"í•” í¬ë¡¤ëŸ¬ê°€ ë­”ê°€ìš”? í•” ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì•„ì´í…œì˜ ì´ë¦„, ê°€ê²©, ì˜µì…˜, í’ˆì ˆ ì—¬ë¶€, ì¶”ê°€ ê¸ˆì•¡ë“±ì˜ ì •ë³´ë“¤ì„ í¬ë¡¤ë§í•©ë‹ˆë‹¤. Node.js + Typescriptë¡œ ì‘ì„±í–ˆê³ , Cheerioë¥¼ ì‚¬ìš©í•˜ë©°, Vercel Serverlessâ€¦","html":"<h2 id=\"í•”-í¬ë¡¤ëŸ¬ê°€-ë­”ê°€ìš”\" style=\"position:relative;\"><a href=\"#%ED%95%94-%ED%81%AC%EB%A1%A4%EB%9F%AC%EA%B0%80-%EB%AD%94%EA%B0%80%EC%9A%94\" aria-label=\"í•” í¬ë¡¤ëŸ¬ê°€ ë­”ê°€ìš” permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•” í¬ë¡¤ëŸ¬ê°€ ë­”ê°€ìš”?</h2>\n<p><a href=\"https://pickk.one\">í•”</a> ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©ë˜ëŠ” ì•„ì´í…œì˜ ì´ë¦„, ê°€ê²©, ì˜µì…˜, í’ˆì ˆ ì—¬ë¶€, ì¶”ê°€ ê¸ˆì•¡ë“±ì˜ ì •ë³´ë“¤ì„ í¬ë¡¤ë§í•©ë‹ˆë‹¤.</p>\n<p>Node.js + Typescriptë¡œ ì‘ì„±í–ˆê³ , Cheerioë¥¼ ì‚¬ìš©í•˜ë©°, Vercel Serverlessë¡œ ë°°í¬í–ˆìŠµë‹ˆë‹¤.</p>\n<ul>\n<li><a href=\"https://github.com/pickk-dev/pickk-crawl\">ê¹ƒí—™ ë ˆí¬ì§€í† ë¦¬</a></li>\n</ul>\n<h2 id=\"ì™œ-ê°‘ìê¸°-í…ŒìŠ¤íŠ¸ë¥¼-ë„ì…í–ˆë‚˜ìš”\" style=\"position:relative;\"><a href=\"#%EC%99%9C-%EA%B0%91%EC%9E%90%EA%B8%B0-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EB%8F%84%EC%9E%85%ED%96%88%EB%82%98%EC%9A%94\" aria-label=\"ì™œ ê°‘ìê¸° í…ŒìŠ¤íŠ¸ë¥¼ ë„ì…í–ˆë‚˜ìš” permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì™œ ê°‘ìê¸° í…ŒìŠ¤íŠ¸ë¥¼ ë„ì…í–ˆë‚˜ìš”?</h2>\n<p>í¬ë¡¤ë§ì€ êµ‰ì¥íˆ ë¶ˆì•ˆì •í•œ ì‘ì—…ì…ë‹ˆë‹¤.</p>\n<p>ì˜ ì‘ë™í•˜ë˜ ì™„ë²½í•œ í¬ë¡¤ëŸ¬ë„ ë‹¤ìŒ ì‚¬ìœ ë¡œ ì¸í•´ ê°‘ìê¸° ì—ëŸ¬ê°€ ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<ol>\n<li>ëŒ€ìƒ ì›¹í˜ì´ì§€ì˜ êµ¬ì¡°ê°€ ë°”ë€œ</li>\n<li>í¬ë¡¤ë§ì„ ì‹œë„í•˜ëŠ” ìˆœê°„ ë„¤íŠ¸ì›Œí¬ ìƒíƒœê°€ ë¶ˆëŸ‰í•¨</li>\n<li>ëŒ€ìƒ ì›¹ì„œë²„ì˜ ë³´ì•ˆì´ ê°•í™”ë¨</li>\n<li>ëŒ€ìƒ ì›¹ì„œë²„ì˜ ì‘ë‹µ ì†ë„ê°€ ëŠë ¤ì§ (timeout ë°œìƒ)</li>\n</ol>\n<p>ë”°ë¼ì„œ ìš°ë¦¬ëŠ” í¬ë¡¤ëŸ¬ë¥¼ ì‘ì„±í•œ ì´í›„ì— ê³„ì†í•´ì„œ <strong>â€˜ì˜ ì‘ë™í•˜ëŠ”ì§€â€™</strong> ì ê²€í•´ì¤„ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.</p>\n<p>ëª‡ë°±ê°œì˜ ì›¹ì‚¬ì´íŠ¸ì— ëŒ€í•´ì„œ ì¼ì¼ì´ ìˆ˜ë™ìœ¼ë¡œ ìƒí’ˆ URLì„ ë„£ì–´ ë³´ê³  ê²°ê³¼ë¥¼ í™•ì¸í•˜ëŠ” ê²ƒì€ ë§ì´ ì•ˆ ë˜ì£ .</p>\n<p>ìë™í™”ëœ í…ŒìŠ¤íŠ¸ë¡œ íŠ¼íŠ¼í•œ CIë¥¼ êµ¬ì¶•í•´ì•¼ í•©ë‹ˆë‹¤.</p>\n<h2 id=\"ì²«-ë²ˆì§¸-ë²„ì „--ì˜-ì‘ë™í•˜ì§€ë§Œ-ì„±ëŠ¥ì´\" style=\"position:relative;\"><a href=\"#%EC%B2%AB-%EB%B2%88%EC%A7%B8-%EB%B2%84%EC%A0%84--%EC%9E%98-%EC%9E%91%EB%8F%99%ED%95%98%EC%A7%80%EB%A7%8C-%EC%84%B1%EB%8A%A5%EC%9D%B4\" aria-label=\"ì²« ë²ˆì§¸ ë²„ì „  ì˜ ì‘ë™í•˜ì§€ë§Œ ì„±ëŠ¥ì´ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì²« ë²ˆì§¸ ë²„ì „ : ì˜ ì‘ë™í•˜ì§€ë§Œ ì„±ëŠ¥ì´..?</h2>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// /__tests__/service/info.test.ts</span>\n<span class=\"token keyword\">import</span> InfoCrawlService <span class=\"token keyword\">from</span> <span class=\"token string\">'../../services/info'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> testCases <span class=\"token keyword\">from</span> <span class=\"token string\">'../test-cases.json'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Test brands'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> testCase <span class=\"token keyword\">of</span> testCases<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> url<span class=\"token punctuation\">,</span> isPartner <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> testCase<span class=\"token punctuation\">;</span>\n    <span class=\"token function\">it</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>done<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> infoCrawlService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InfoCrawlService</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> infoCrawlService<span class=\"token punctuation\">.</span><span class=\"token function\">crawl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>brandKor<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>imageUrl<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>originalPrice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>salePrice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isPartner<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p>ê°€ì¥ ì§ê´€ì ì¸ ì´ˆê¸° ë²„ì „ì…ë‹ˆë‹¤.</p>\n<p>forë¬¸ìœ¼ë¡œ testCasesë¥¼ ìˆœíšŒí•˜ë©° it(í…ŒìŠ¤íŠ¸)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>\n<p>ì •ë§ ì˜ ì‘ë™í•˜ì§€ë§Œ, í•œê°€ì§€ ë¬¸ì œê°€ ìˆëŠ”ë°ìš”.</p>\n<p>jestì˜ í…ŒìŠ¤íŒ… í™˜ê²½ì—ì„œ ê° í…ŒìŠ¤íŠ¸ëŠ” <del>ë¬´ì¡°ê±´ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰</del>ë˜ê¸° ë•Œë¬¸ì— <del>Aí¬ë¡¤ë§-Bí¬ë¡¤ë§-Cí¬ë¡¤ë§-â€¦</del> ê³¼ ê°™ì´ í”„ë¡œì„¸ìŠ¤ê°€ ì§ë ¬ì ìœ¼ë¡œ ì´ì–´ì ¸, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ëŠ˜ì–´ë‚¨ì—ë”°ë¼ ì‹¤í–‰ì‹œê°„ì´ ì„ í˜•ì ìœ¼ë¡œ ì¦ê°€í•©ë‹ˆë‹¤.</p>\n<p>ì›¹í˜ì´ì§€ 1ê°œë¥¼ fetchí•˜ëŠ” ë°ì— í‰ê·  3ì´ˆ ì •ë„ ì†Œìš”ë˜ë‹ˆ 10ê°œë©´ 30ì´ˆ, 100ê°œë©´ 300ì´ˆâ€¦</p>\n<p>í”„ë¡œì„¸ìŠ¤ë¥¼ ë³‘ë ¬ì ìœ¼ë¡œ ê°œì„ í•´ì•¼ë§Œ í–ˆìŠµë‹ˆë‹¤.</p>\n<h2 id=\"ë³‘ë ¬-ì²˜ë¦¬--promiseall\" style=\"position:relative;\"><a href=\"#%EB%B3%91%EB%A0%AC-%EC%B2%98%EB%A6%AC--promiseall\" aria-label=\"ë³‘ë ¬ ì²˜ë¦¬  promiseall permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë³‘ë ¬ ì²˜ë¦¬ : Promise.all</h2>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// /__tests__/service/info.test.ts</span>\n<span class=\"token keyword\">import</span> InfoCrawlService <span class=\"token keyword\">from</span> <span class=\"token string\">'../../services/info'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> testCases <span class=\"token keyword\">from</span> <span class=\"token string\">'../test-cases.json'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> datas<span class=\"token punctuation\">;</span>\n<span class=\"token function\">beforeAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  datas <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token builtin\">Promise</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>\n    testCases<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> url <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n        <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token builtin\">Promise</span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">const</span> infoCrawlService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">InfoCrawlService</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> infoCrawlService<span class=\"token punctuation\">.</span><span class=\"token function\">crawl</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Test brands'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> testCases<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> <span class=\"token operator\">++</span>i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> isPartner <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> testCases<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">it</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>done<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> datas<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeTruthy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>brandKor<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>imageUrl<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>originalPrice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>salePrice<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>isPartner<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>images<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeGreaterThan</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br>\n<p>Fetch í”„ë¡œì„¸ìŠ¤ë¥¼ ë³‘ë ¬í™”í•´ ê°œì„ í•œ ë‘ë²ˆì§¸ ë²„ì „ì…ë‹ˆë‹¤.</p>\n<p>beforeAllì€ ë§ ê·¸ëŒ€ë¡œ ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— ì „ì—­ìœ¼ë¡œ 1ë²ˆ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì¸ë°ìš”, ì—¬ê¸°ì„œ ëª¨ë“  ë°ì´í„°ë¥¼ ë¯¸ë¦¬ fetch í•´ë†“ê³  í…ŒìŠ¤íŒ… ê³¼ì •ì—ì„  ê°€ì ¸ë‹¤ ì“°ê¸°ë§Œ í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>\n<p>ë¬´ì§€ë§‰ì§€í•˜ê²Œ ì˜¤ë˜ ê±¸ë¦¬ë˜ ì‹¤í–‰ ì‹œê°„ì´ 5~15ì´ˆë¡œ ë‹¨ì¶•ëìŠµë‹ˆë‹¤! ğŸ‘ğŸ‘ğŸ‘</p>\n<p>í•˜ì§€ë§Œ ë˜ ë¬¸ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤.</p>\n<ol>\n<li>\n<p>ëŠë¦¬ê±°ë‚˜ ì ‘ì†ì´ ì•ˆ ë˜ëŠ” ì‚¬ì´íŠ¸ë“¤ì´ í”„ë¡œì„¸ìŠ¤ë¥¼ ì˜¤ë«ë™ì•ˆ ë¶™ì¡ê³  ìˆë‹¤ê°€ timeout ì—ëŸ¬ë¥¼ ë°œìƒì‹œì¼°ìŠµë‹ˆë‹¤.<br>\nPromise.allì€ ëª¨ë“  ì‘ì—…ì„ ë™ì‹œì— ëë‚´ê¸° ë•Œë¬¸ì—, ë‹¤ë¥¸ ì‚¬ì´íŠ¸ë“¤ì˜ ë°ì´í„°ë“¤ë„ ê°™ì´ ê¸°ë‹¤ë ¤ì•¼ë§Œ í–ˆìŠµë‹ˆë‹¤.</p>\n</li>\n<li>\n<p>í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ì¤‘ 1ê°œë¼ë„ fetchì— ì‹¤íŒ¨í•˜ë©´ Promise.all ìì²´ê°€ ì—ëŸ¬ë¡œ ì²˜ë¦¬ëìŠµë‹ˆë‹¤.<br>\nì´ê²ƒì€ Promise.allì˜ íŠ¹ì§•ì¸ë°ìš”, ì´ë¦„ ê·¸ëŒ€ë¡œ ALL or NOTHINGìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤..</p>\n</li>\n</ol>\n<p>ìœ„ì˜ ë¬¸ì œë“¤ ë•Œë¬¸ì— í…ŒìŠ¤íŠ¸ì˜ ì‹¤í–‰ ì‹œê°„ì´ ê¸¸ì–´ì§€ê³ , ê¸´ ì‹œê°„ì„ ê¸°ë‹¤ë ¤ë„ ë³µë¶ˆë³µìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ì „ì²´ê°€ ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>\n<p>ì²«ë²ˆì§¸ ë²„ì „ë³´ë‹¨ ë‚˜ì•˜ì§€ë§Œ, ì—¬ì „íˆ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ìˆ˜ì¤€ì´ì—ˆì£ .</p>\n<h2 id=\"fetch-ë¡œì§-ë¶„ë¦¬\" style=\"position:relative;\"><a href=\"#fetch-%EB%A1%9C%EC%A7%81-%EB%B6%84%EB%A6%AC\" aria-label=\"fetch ë¡œì§ ë¶„ë¦¬ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fetch ë¡œì§ ë¶„ë¦¬!</h2>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// /__tests__/data/fetch-htmls.ts</span>\n<span class=\"token keyword\">import</span> fs <span class=\"token keyword\">from</span> <span class=\"token string\">'fs'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> chalk <span class=\"token keyword\">from</span> <span class=\"token string\">'chalk'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Progress <span class=\"token keyword\">from</span> <span class=\"token string\">'progress'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> requestHtml <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../lib'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> testCases <span class=\"token keyword\">from</span> <span class=\"token string\">'./test-cases.json'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> red<span class=\"token punctuation\">,</span> green<span class=\"token punctuation\">,</span> grey <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> chalk<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> bar <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Progress</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fetching htmls... [:bar] :percent :etas'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  complete<span class=\"token operator\">:</span> <span class=\"token string\">'='</span><span class=\"token punctuation\">,</span>\n  incomplete<span class=\"token operator\">:</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">,</span>\n  width<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n  total<span class=\"token operator\">:</span> testCases<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> log <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">fail</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>message<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>red<span class=\"token punctuation\">.</span><span class=\"token function\">inverse</span><span class=\"token punctuation\">(</span><span class=\"token string\">' FAIL '</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>message<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>green<span class=\"token punctuation\">.</span>inverse<span class=\"token punctuation\">.</span><span class=\"token function\">bold</span><span class=\"token punctuation\">(</span><span class=\"token string\">' SUCCESS '</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchHtmls</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>fileName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> htmls <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token builtin\">Promise</span><span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span>\n      testCases<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> url <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n          <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token builtin\">Promise</span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">requestHtml</span><span class=\"token punctuation\">(</span><span class=\"token function\">encodeURI</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n              bar<span class=\"token punctuation\">.</span><span class=\"token function\">tick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n              <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              log<span class=\"token punctuation\">.</span><span class=\"token function\">fail</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">+</span> <span class=\"token function\">grey</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    process<span class=\"token punctuation\">.</span>stdout<span class=\"token punctuation\">.</span><span class=\"token function\">clearLine</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    process<span class=\"token punctuation\">.</span>stdout<span class=\"token punctuation\">.</span><span class=\"token function\">cursorTo</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"> fetch complete!</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fileName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.json</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    fs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>htmls<span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"> </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fileName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.json generated âœ¨</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>red<span class=\"token punctuation\">.</span><span class=\"token function\">inverse</span><span class=\"token punctuation\">(</span><span class=\"token string\">' Error occured!! '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">red</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">fetchHtmls</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test-htmls'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ì— ë“±ë¡ë˜ì–´ìˆëŠ” ëª¨ë“  ì›¹ì‚¬ì´íŠ¸ì˜ HTMLì„ fetchí•´ì„œ ì €ì¥í•´ë‘ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.</p>\n<p>ë•ë¶„ì— ë¶ˆì•ˆì •í•œ fetchë‹¨ê³„ë§Œ ë¶„ë¦¬í•´ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆì–´ í…ŒìŠ¤íŠ¸ì˜ ì•ˆì •ì„±ì´ ë†’ì•„ì¡ŒìŠµë‹ˆë‹¤.</p>\n<p>ë˜ select ì½”ë“œë§Œ ë³€ê²½ëœ ê²½ìš°ì—” ë§¤ë²ˆ fetchí•  í•„ìš” ì—†ì´ í…ŒìŠ¤íŠ¸ë§Œ ëŒë¦¬ë©´ ë¼ì„œ ì„±ëŠ¥ë„ ì¢‹ì•„ì¡ŒìŠµë‹ˆë‹¤!</p>\n<p>progress, chalk ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•´ ì¸í„°í˜ì´ìŠ¤ë„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.</p>\n<p>ì´ ë°©ì‹ìœ¼ë¡œ fetch ë¡œì§ì˜ ë¶„ë¦¬ëŠ” ì„±ê³µí–ˆì§€ë§Œ, ìœ„ì— ì¡´ì¬í–ˆë˜ 2ê°€ì§€ ë¬¸ì œë“¤ì¤‘ ì–´ëŠ ê²ƒë„ í•´ê²°ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>\n<h2 id=\"ìµœì¢…--promiseallsettled-ë„ì…-timeout-ëª…í™•íˆ-ì§€ì •\" style=\"position:relative;\"><a href=\"#%EC%B5%9C%EC%A2%85--promiseallsettled-%EB%8F%84%EC%9E%85-timeout-%EB%AA%85%ED%99%95%ED%9E%88-%EC%A7%80%EC%A0%95\" aria-label=\"ìµœì¢…  promiseallsettled ë„ì… timeout ëª…í™•íˆ ì§€ì • permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ìµœì¢… : Promise.allSettled ë„ì…, timeout ëª…í™•íˆ ì§€ì •!</h2>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token comment\">// /__tests__/data/fetch-htmls.ts</span>\n<span class=\"token keyword\">import</span> fs <span class=\"token keyword\">from</span> <span class=\"token string\">'fs'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> chalk <span class=\"token keyword\">from</span> <span class=\"token string\">'chalk'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Progress <span class=\"token keyword\">from</span> <span class=\"token string\">'progress'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> allSettled<span class=\"token punctuation\">,</span> requestHtml <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../../lib'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> testCases <span class=\"token keyword\">from</span> <span class=\"token string\">'./test-cases.json'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> red<span class=\"token punctuation\">,</span> green<span class=\"token punctuation\">,</span> grey <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> chalk<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> bar <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Progress</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fetching htmls... [:bar] :percent :etas'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  complete<span class=\"token operator\">:</span> <span class=\"token string\">'='</span><span class=\"token punctuation\">,</span>\n  incomplete<span class=\"token operator\">:</span> <span class=\"token string\">' '</span><span class=\"token punctuation\">,</span>\n  width<span class=\"token operator\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span>\n  total<span class=\"token operator\">:</span> testCases<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> log <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">fail</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>message<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>red<span class=\"token punctuation\">.</span><span class=\"token function\">inverse</span><span class=\"token punctuation\">(</span><span class=\"token string\">' FAIL '</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">success</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span>message<span class=\"token operator\">:</span> <span class=\"token builtin\">any</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>green<span class=\"token punctuation\">.</span>inverse<span class=\"token punctuation\">.</span><span class=\"token function\">bold</span><span class=\"token punctuation\">(</span><span class=\"token string\">' SUCCESS '</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">' '</span> <span class=\"token operator\">+</span> message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchHtmls</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>fileName<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> htmlDatas <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">allSettled</span><span class=\"token punctuation\">(</span>\n      testCases<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> url <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n          <span class=\"token keyword\">new</span> <span class=\"token class-name\"><span class=\"token builtin\">Promise</span></span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token keyword\">const</span> html <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">requestHtml</span><span class=\"token punctuation\">(</span><span class=\"token function\">encodeURI</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n              <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">,</span> html <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                name<span class=\"token punctuation\">,</span>\n                html<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span>\n                message<span class=\"token operator\">:</span> e<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n              bar<span class=\"token punctuation\">.</span><span class=\"token function\">tick</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> failedHtmlDatas <span class=\"token operator\">=</span> htmlDatas<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">(</span>htmlData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token operator\">!</span>htmlData<span class=\"token punctuation\">[</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'html'</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    failedHtmlDatas<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>htmlData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      log<span class=\"token punctuation\">.</span><span class=\"token function\">fail</span><span class=\"token punctuation\">(</span>\n        <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>htmlData<span class=\"token punctuation\">[</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">+</span> <span class=\"token function\">grey</span><span class=\"token punctuation\">(</span>htmlData<span class=\"token punctuation\">[</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'message'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>failedHtmlDatas<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'â—ì‹¤íŒ¨í•œ ë¸Œëœë“œëŠ” jest ì‹¤í–‰ì‹œ ë‹¤ì‹œ fetchí•©ë‹ˆë‹¤â—'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">success</span><span class=\"token punctuation\">(</span>\n      <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">fetch complete! (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>testCases<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> failedHtmlDatas<span class=\"token punctuation\">.</span>length<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>\n        testCases<span class=\"token punctuation\">.</span>length\n      <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)</span><span class=\"token template-punctuation string\">`</span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> testHtmls <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    htmlDatas<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>htmlData<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>htmlData<span class=\"token punctuation\">[</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'html'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        testHtmls<span class=\"token punctuation\">[</span>htmlData<span class=\"token punctuation\">[</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> htmlData<span class=\"token punctuation\">[</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">'html'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fileName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.json</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    fs<span class=\"token punctuation\">.</span><span class=\"token function\">writeFileSync</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>testHtmls<span class=\"token punctuation\">,</span> <span class=\"token keyword\">undefined</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'utf-8'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">success</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>fileName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.json generated âœ¨</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>red<span class=\"token punctuation\">.</span><span class=\"token function\">inverse</span><span class=\"token punctuation\">(</span><span class=\"token string\">' Error occured!! '</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">fetchHtmls</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test-htmls'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>í˜„ì¬ í”„ë¡œë•ì…˜ì— ì ìš©ëœ ìµœì¢… ì½”ë“œì…ë‹ˆë‹¤. ì´ì „ ë²„ì „ê³¼ ìœ ì‚¬í•˜ì§€ë§Œ ê²°ì •ì ì¸ ê°œì„ ì ë“¤ì´ ìˆìŠµë‹ˆë‹¤.</p>\n<ol>\n<li>timeout ì œí•œì„ ì—„ê²©í•˜ê²Œ ê´€ë¦¬<br>\nëª¨ë“  fetch requestì— timeoutì„ ëª…ì‹œí•˜ê³ , ëª¨ë“  caseì—ì„œ request ì‹œê°„ì˜ í•©ì´ ì¼ì •í•˜ë„ë¡ ì¡°ì ˆí•œë‹¤.</li>\n<li>allSettled ë„ì… <br>\nPromise.allê³¼ ë‹¤ë¥´ê²Œ ì¼ë¶€ caseê°€ rejectë˜ë”ë¼ë„ ì˜¨ì „íˆ ë°ì´í„°ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. Promise.allSettledë¥¼ ê·¸ëƒ¥ ì‚¬ìš©í•˜ë©´ node ë²„ì „ í˜¸í™˜ ë¬¸ì œê°€ ë°œìƒí•´ ì¸í„°ë„·ì— ê³µê°œëœ polyfill ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. <a href=\"https://github.com/ppeeou/makelib/blob/master/Promise/allSettled.js\">ì¶œì²˜</a></li>\n<li>bar.tick() í•¨ìˆ˜ë¥¼ finallyë¬¸ìœ¼ë¡œ ë¶„ë¦¬í•´ì„œ ì—ëŸ¬ì‹œì—ë„ ì¼ë‹¨ ë¡œë”©ì´ ì§„í–‰ë˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤. ë³„ê±° ì•„ë‹Œ ê²ƒ ê°™ì§€ë§Œ ë‹µë‹µí•¨ì´ í¬ê²Œ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤!</li>\n<li>fetch ì‹¤íŒ¨ì‹œ ì•ˆë‚´ ë¬¸êµ¬ë“¤ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.</li>\n</ol>\n<h2 id=\"ê²°ê³¼\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EA%B3%BC\" aria-label=\"ê²°ê³¼ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ê²°ê³¼</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 426px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.000000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABQklEQVQY022Ry2rCQBiFfRG7j1YTk3hP0sSYy0RzcVIj1AqFglDaTemTdNFNX/YrMzuhi48zM3B+zn+m56YC93LFKVvc5sS0emSanZkGBU/rgJfFnGDu4z+47HY7ttst+/0eIQTj8fiG0WhEr6grRFVRlCVJLqgOB5JMYFoWjmUxtW0mkwmOY+M4jj5blqUZDocYhqFVoYb2cj+ijFOKaEsUhvi+z2q1JPB9NpsNuRCkaaqJ45gsy8jznCiK9FuSJHiep9EJF18Xlp+KZ/Z1RStbgiBASknbttqsjGVZUte1vq89j9lsThiGugIVQnn0wP7vB3c/b/S/rxR1yaFukK3kdDrpIU3T6M7O5zPH4xEpW0LPwTLvMYwBg8HgduW1TDi8v7LpatIs0ym6rtN9qZ5s28Z1Xa2qP6X2xMQ0x/9+yh8e9dHNfDobWQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Fetch ìŠ¤í¬ë¦°ìƒ·\"\n        title=\"Fetch ìŠ¤í¬ë¦°ìƒ·\"\n        src=\"/static/f89a0fb1a44b85b47b731afd9f61f74c/531e1/screen-shot-fetch.png\"\n        srcset=\"/static/f89a0fb1a44b85b47b731afd9f61f74c/772e8/screen-shot-fetch.png 200w,\n/static/f89a0fb1a44b85b47b731afd9f61f74c/e17e5/screen-shot-fetch.png 400w,\n/static/f89a0fb1a44b85b47b731afd9f61f74c/531e1/screen-shot-fetch.png 426w\"\n        sizes=\"(max-width: 426px) 100vw, 426px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<center>fetch ì‹¤í–‰ ê²°ê³¼</center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 555px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACVklEQVQ4y4WUXW7jNhRGvZO+tAhikZIoSpRISpZ/Yg/G1iiJB4hRBGmD+qX76BK6oi6gazoD0k5qBwH6cHBJQrq633evOJkv7+geDnTjI/P9Abd5wNQzRq3xWlPVGu89bdeiteZmOuWX6ZRbIUjTFCllJKwDk8V+h/+ywFYVfesxVYlSOVIpKmNo2w5T19imoShLVs7xMJuxMgZxkeg94U9//8nPf73itKHre5qmoe97urZlHEdeXl54enpifHzkt2Hgn9dX/j0e+WM+50YIso8Jm3HDYj+w2XxBlyVplr2T53mkKArSPMcpxVaXLJQi+SD1PaG8TbC6ZNY0eGOwWlMIgZISIUR86S0mQnAjkpN/IdkZecFEpClGKeZFQVcU9CEqRZPnp0rDl7P8HDOyeJ4jI1kknp+fncSyswxtDFXToMqS2lqs99TGkOkS0c4RjUO4DtH2J3yPcDMS11FYd2paUTCRaUpT1/TW0oZuliWFlNHsKCNUEdZv8UyUevbtU8nrs9Q+mB8eOvsWfQqeRd/ExVqe9lJcz2HYBF+quo5SS1NhvcO3PlaelRWiWyAaHyVG+ZGT7MTNKKz/T3LoYDBUKRVjJiR5IM1IZRqHN3mTHrluyFtT3is8HA6M9/cMX7fUqxnJYYP8fcDsVgzbHcMwxGG/HJOPXHl4PB55fn7GWUflLZtf99wd7knbGudc/I+ttVc+yQ9cDfb373vuVkvq2kQfHnbf+LreIKcJ03AJ3N6SJMmnF8FnTLzVrLc75ssly/Wa7bcRY13scqFLjDH/m+Qy4Q86+eYMQiEmzwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Jest ìŠ¤í¬ë¦°ìƒ·\"\n        title=\"Jest ìŠ¤í¬ë¦°ìƒ·\"\n        src=\"/static/4cc2d89548d7c93c22b805d22d278353/cd039/screen-shot-jest.png\"\n        srcset=\"/static/4cc2d89548d7c93c22b805d22d278353/772e8/screen-shot-jest.png 200w,\n/static/4cc2d89548d7c93c22b805d22d278353/e17e5/screen-shot-jest.png 400w,\n/static/4cc2d89548d7c93c22b805d22d278353/cd039/screen-shot-jest.png 555w\"\n        sizes=\"(max-width: 555px) 100vw, 555px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<center>jest ì‹¤í–‰ ê²°ê³¼</center>\n<p>295ê°œì˜ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ë¥¼ 7ì´ˆ, 18ì´ˆë§Œì— ì²˜ë¦¬í•˜ëŠ” ì¤€ìˆ˜í•œ ì„±ëŠ¥ì„ ê°–ê²Œ ëìŠµë‹ˆë‹¤ âœ¨</p>","tableOfContents":"<ul>\n<li><a href=\"#%ED%95%94-%ED%81%AC%EB%A1%A4%EB%9F%AC%EA%B0%80-%EB%AD%94%EA%B0%80%EC%9A%94\">í•” í¬ë¡¤ëŸ¬ê°€ ë­”ê°€ìš”?</a></li>\n<li><a href=\"#%EC%99%9C-%EA%B0%91%EC%9E%90%EA%B8%B0-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-%EB%8F%84%EC%9E%85%ED%96%88%EB%82%98%EC%9A%94\">ì™œ ê°‘ìê¸° í…ŒìŠ¤íŠ¸ë¥¼ ë„ì…í–ˆë‚˜ìš”?</a></li>\n<li><a href=\"#%EC%B2%AB-%EB%B2%88%EC%A7%B8-%EB%B2%84%EC%A0%84--%EC%9E%98-%EC%9E%91%EB%8F%99%ED%95%98%EC%A7%80%EB%A7%8C-%EC%84%B1%EB%8A%A5%EC%9D%B4\">ì²« ë²ˆì§¸ ë²„ì „ : ì˜ ì‘ë™í•˜ì§€ë§Œ ì„±ëŠ¥ì´..?</a></li>\n<li><a href=\"#%EB%B3%91%EB%A0%AC-%EC%B2%98%EB%A6%AC--promiseall\">ë³‘ë ¬ ì²˜ë¦¬ : Promise.all</a></li>\n<li><a href=\"#fetch-%EB%A1%9C%EC%A7%81-%EB%B6%84%EB%A6%AC\">Fetch ë¡œì§ ë¶„ë¦¬!</a></li>\n<li><a href=\"#%EC%B5%9C%EC%A2%85--promiseallsettled-%EB%8F%84%EC%9E%85-timeout-%EB%AA%85%ED%99%95%ED%9E%88-%EC%A7%80%EC%A0%95\">ìµœì¢… : Promise.allSettled ë„ì…, timeout ëª…í™•íˆ ì§€ì •!</a></li>\n<li><a href=\"#%EA%B2%B0%EA%B3%BC\">ê²°ê³¼</a></li>\n</ul>","fields":{"slug":"/retrospective/001-pickk-crawl-jest/"},"frontmatter":{"title":"í•” í¬ë¡¤ëŸ¬ í…ŒìŠ¤íŒ… ë„ì…ê¸°","date":"2020-11-19T18:44:10.169Z","tags":["jest","ci"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACRklEQVQoz5WT60tTYRzHl3M7Z56zcxlOg6jMArt4bZr3rV10qZmEszFnTSUqLC9gIUVCQRczMwwk58JLSNCL3vTGF/0HEr3pD/rEeXLTVQi9+PKD8zvP5/n+Lo/NMAz+V4rmZvx8mPWOG7wPDbISGiQdTgrZ9v+o67qIHtMUMk0z982KHsNEUhUiJyvZ6Ej9BcsDZg+qqopDlpCUIiRZzuVMK6e5OeYt5W1ggNXwUA64sg+cA1puVEWhrraWmTv3mEikGB5MorrdAmblrVKnfBG2oiOshpNCmfCQgFvRgtqs20U5Hg8F9gJOna5g++UyO89XmB69jdMli1LtkpPWsgoeNF5iprGLeX8/74JxJusjPGrq5llrn4Dasu4kWaL/8hVS8QSfMmv8/P6D0eR1Ch2FeEtKiHX1MH8xxkR9hFRVKyM17QIcP9fIuC/Mi7arZCK7QMvdIbudzOISW5ubfJ1fZmdulbWFJQpliQafj+30Bp/jE9ys8ZOoama2pZf7DVESlc0MV7fl91DXNDwlXtafvOLb0yW+jM3ycXKWkWsJbJKDYPlZ1vtukQ4ledjUTaK6hakLnbz2x3jc3MNoTfteD0XJhkGRqhDr7mXu7jRd0ShHystwuGSOFpeyGBggE0qKAx8iQ7wJDIgeZldlOZgQA9obijVpXUd2uXAUuXA6nWiqiqJrjNUF2ez8vXPp3UOWGwu8f13y10Y30A1dDMda6GKPB8mtEDhxJu81HKQs1Pavp+XWNI57D7Pgjwkn7/9wcZB+AfrRp+OrPSpTAAAAAElFTkSuQmCC","aspectRatio":1.6216216216216217,"src":"/static/43e3127c15bd4483264f56ef7310193f/f3583/jest-pickk.png","srcSet":"/static/43e3127c15bd4483264f56ef7310193f/630fb/jest-pickk.png 300w,\n/static/43e3127c15bd4483264f56ef7310193f/2a4de/jest-pickk.png 600w,\n/static/43e3127c15bd4483264f56ef7310193f/f3583/jest-pickk.png 1200w,\n/static/43e3127c15bd4483264f56ef7310193f/fdd2f/jest-pickk.png 1596w","sizes":"(max-width: 1200px) 100vw, 1200px"}}}}}},"pageContext":{"slug":"/retrospective/001-pickk-crawl-jest/","previous":{"excerpt":"Nextjs ê³µì‹ ë¸”ë¡œê·¸ì˜ Next.js 10ë¥¼ ë²ˆì—­ ë° ìš”ì•½í•œ ê¸€ì…ë‹ˆë‹¤.ì˜ì—­ ë° ê°œì¸ì ì¸ ì˜ê²¬ì´ ë§ì´ ì¶”ê°€ë  ì˜ˆì •ì…ë‹ˆë‹¤. ì™€! Next.js 10! ì§€ë‚œ Next confì™€ í•¨ê»˜ Next.js 10ì´ ê³µê°œë˜ì—ˆë‹¤. ì–¸ì œë‚˜ ì‹¤ë§ì‹œí‚¤ì§€ ì•ŠëŠ” Vercelâ€¦","fields":{"slug":"/trans/001-next-10/"},"frontmatter":{"date":"2020-11-19T00:13:38.169Z","title":"Next.js 10, ë­ê°€ ë°”ë€Œì—ˆì„ê¹Œ?","layout":"post","thumbnail":{"childImageSharp":{"fluid":{"originalImg":"/static/23c6a21b34eaca00c98dae5e2e36fcad/ec6c5/nextjs.jpg"}}}}},"next":{"excerpt":"express.jsëŠ” ê°€ì¥ ìœ ëª…í•œ Node.jsê¸°ë°˜ ì›¹í”„ë ˆì„ì›Œí¬ë‹¤. ì´ë¯¸ ì¡°ì•½í•˜ê²Œë‚˜ë§ˆ ëª‡ë²ˆ ì¨ë³¸ ê²½í—˜ì´ ìˆê¸° ë•Œë¬¸ì— Hello WorldëŠ” ê±´ë„ˆ ë›°ê³ , í”„ë¡œë‹µê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë°©ë²•/íŒë“¤ì„ ë°°ìš°ê³  ì •ë¦¬í•´ë³´ê² ë‹¤. Bulletproof node.jsâ€¦","fields":{"slug":"/til/008-express/"},"frontmatter":{"date":"2020-11-22T18:35:10.169Z","title":"Express.js ì„œë²„ ê°œë°œ ì²«ê±¸ìŒ ë”›ê¸°","layout":"post","thumbnail":{"childImageSharp":{"fluid":{"originalImg":"/static/8b67d1064dc6b182de524fd187b0331f/22701/expressjs.png"}}}}}}},"staticQueryHashes":["1845200029","3000541721"]}
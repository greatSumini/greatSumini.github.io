{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/guide/017-typeorm-migrations/","result":{"data":{"site":{"siteMetadata":{"title":"최수민 개발 블로그","siteUrl":"https://sumini.dev"}},"markdownRemark":{"id":"aab29c57-e581-50c6-96ef-52efc4de0b30","excerpt":"소개 MIgration이란? 데이터베이스 스키마에 대한 변경 이력을 그때그때 남겨놓은 파일입니다. 다음과 같은 효과가 있습니다. 특정 시점으로 되돌리기 쉬움 변경 이력을 누구나 볼 수 있게 됨 cli로 직접 접속해서 명령어를 칠 부담이 없어짐 보통 TypeORM의 auto…","html":"<h2 id=\"소개\" style=\"position:relative;\"><a href=\"#%EC%86%8C%EA%B0%9C\" aria-label=\"소개 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>소개</h2>\n<p>MIgration이란? 데이터베이스 스키마에 대한 변경 이력을 그때그때 남겨놓은 파일입니다. 다음과 같은 효과가 있습니다.</p>\n<ul>\n<li>특정 시점으로 되돌리기 쉬움</li>\n<li>변경 이력을 누구나 볼 수 있게 됨</li>\n<li>cli로 직접 접속해서 명령어를 칠 부담이 없어짐</li>\n</ul>\n<p>보통 TypeORM의 auto generation된 파일을 조금 다듬는 것만으로 충분하지만, 특별한 상황에서는 직접 명령어를 작성해줘야할 수 있습니다.</p>\n<p>이 문서는 대표적인 특별한 상황들에서 어떻게 Migration을 작성해야하는지에 대해서 설명합니다.</p>\n<h2 id=\"not-null-컬럼-추가\" style=\"position:relative;\"><a href=\"#not-null-%EC%BB%AC%EB%9F%BC-%EC%B6%94%EA%B0%80\" aria-label=\"not null 컬럼 추가 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>NOT NULL 컬럼 추가</h2>\n<p>default value가 지정되지 않은 NOT NULL인 컬럼을 새로 추가하면, 기존의 레코드들은 해당 컬럼 값이 없기 때문에 에러가 납니다. 따라서 아래와 같은 절차로 추가해줘야합니다.</p>\n<ol>\n<li>일단 NULLABLE로 추가</li>\n<li>값 채우기</li>\n<li>NOT NULL로 변경</li>\n</ol>\n<p>아래는 Migration file 예시입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> MigrationInterface<span class=\"token punctuation\">,</span> QueryRunner <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'typeorm'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">AddPaymentEnvOrigin1625808259780</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">MigrationInterface</span> <span class=\"token punctuation\">{</span>\n  name <span class=\"token operator\">=</span> <span class=\"token string\">'AddPaymentEnvOrigin1625808259780'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token function\">up</span><span class=\"token punctuation\">(</span>queryRunner<span class=\"token operator\">:</span> QueryRunner<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// 일단 nullable로 추가</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ALTER TABLE `payment` ADD `env` enum ('pc', 'mobile') NULL\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">'ALTER TABLE `payment` ADD `origin` varchar(255) NULL'</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// 값 채우기</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"UPDATE `payment` SET env = 'pc', origin = 'https://pickk.one/orders/sheet'\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// NOT NULL로 변경</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ALTER TABLE `payment` CHANGE `env` `env` enum ('pc', 'mobile') NOT NULL\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">'ALTER TABLE `payment` CHANGE `origin` `origin` varchar(255) NOT NULL'</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token function\">down</span><span class=\"token punctuation\">(</span>queryRunner<span class=\"token operator\">:</span> QueryRunner<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ALTER TABLE `payment` DROP COLUMN `origin`'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ALTER TABLE `payment` DROP COLUMN `env`'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"enum-값-변경\" style=\"position:relative;\"><a href=\"#enum-%EA%B0%92-%EB%B3%80%EA%B2%BD\" aria-label=\"enum 값 변경 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Enum 값 변경</h2>\n<p>PaymentStatus라는 enum이 존재하고, DB에 다음과 같이 적용되어 있다고 가정해보겠습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">enum</span> PaymentStatus <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/** 미결제 */</span>\n  Ready <span class=\"token operator\">=</span> <span class=\"token string\">'ready'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/** 결제완료 */</span>\n  Paid <span class=\"token operator\">=</span> <span class=\"token string\">'paid'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/** 전액취소 */</span>\n  Cancelled <span class=\"token operator\">=</span> <span class=\"token string\">'cancelled'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/** 부분취소 */</span>\n  PartialCancelled <span class=\"token operator\">=</span> <span class=\"token string\">'partial_cancelled'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/** 결제실패 */</span>\n  Failed <span class=\"token operator\">=</span> <span class=\"token string\">'failed'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">@<span class=\"token function\">Column</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  type<span class=\"token operator\">:</span> <span class=\"token string\">'enum'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">enum</span><span class=\"token operator\">:</span> PaymentStatus<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nstatus<span class=\"token operator\">:</span> PaymentStatus<span class=\"token punctuation\">;</span></code></pre></div>\n<p>다음과 같이 Ready가 제거되고 Pending, VbankReady를 추가할 예정입니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">declare</span> <span class=\"token keyword\">enum</span> PaymentStatus <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/** 미결제 */</span>\n  Pending <span class=\"token operator\">=</span> <span class=\"token string\">'pending'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/** 가상계좌 입금대기 */</span>\n  VbankReady <span class=\"token operator\">=</span> <span class=\"token string\">'vbank_ready'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/** 결제완료 */</span>\n  Paid <span class=\"token operator\">=</span> <span class=\"token string\">'paid'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/** 전액취소 */</span>\n  Cancelled <span class=\"token operator\">=</span> <span class=\"token string\">'cancelled'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/** 부분취소 */</span>\n  PartialCancelled <span class=\"token operator\">=</span> <span class=\"token string\">'partial_cancelled'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">/** 결제실패 */</span>\n  Failed <span class=\"token operator\">=</span> <span class=\"token string\">'failed'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이때 자동 생성된 Migration file은 다음과 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> MigrationInterface<span class=\"token punctuation\">,</span> QueryRunner <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'typeorm'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UpdatePaymentStatus1625768198250</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">MigrationInterface</span> <span class=\"token punctuation\">{</span>\n  name <span class=\"token operator\">=</span> <span class=\"token string\">'UpdatePaymentStatus1625768198250'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token function\">up</span><span class=\"token punctuation\">(</span>queryRunner<span class=\"token operator\">:</span> QueryRunner<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ALTER TABLE `payment` CHANGE `status` `status` enum ('pending', 'vbank_ready', 'paid', 'cancelled', 'partial_cancelled', 'failed') NOT NULL\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token function\">down</span><span class=\"token punctuation\">(</span>queryRunner<span class=\"token operator\">:</span> QueryRunner<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ALTER TABLE `payment` CHANGE `status` `status` enum ('ready', 'paid', 'cancelled', 'partial_cancelled', 'failed') NOT NULL\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>단순히 column의 available enum values를 변경하고 있는 모습입니다.</p>\n<p>기존 데이터가 존재하지 않는다면 상관 없지만, 데이터가 있는 상황이라면 위의 Migration은 정상적으로 작동하지 않습니다. 삭제되는 enum value들을 처리하지 않기 때문입니다.</p>\n<p>원활한 Migration을 위해서, 우리는 다음과 같은 과정을 거쳐야합니다.</p>\n<ol>\n<li>column의 available enum values를 변경전과 변경후의 합집합으로 설정한다.</li>\n<li>삭제되는 enum value들을 새로운 enum value들에 적절히 mapping한다.</li>\n<li>column의 available enum values를 예정대로 변경한다.</li>\n</ol>\n<p>revert할때도 마찬가지입니다. 이를 Migration file로 옮기면 다음과 같습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> MigrationInterface<span class=\"token punctuation\">,</span> QueryRunner <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'typeorm'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">UpdatePaymentStatus1625768198250</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">MigrationInterface</span> <span class=\"token punctuation\">{</span>\n  name <span class=\"token operator\">=</span> <span class=\"token string\">'UpdatePaymentStatus1625768198250'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token function\">up</span><span class=\"token punctuation\">(</span>queryRunner<span class=\"token operator\">:</span> QueryRunner<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ALTER TABLE `payment` CHANGE `status` `status` enum ('ready', 'pending', 'vbank_ready', 'paid', 'cancelled', 'partial_cancelled', 'failed') NOT NULL\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"UPDATE `payment` SET status = CASE status WHEN 'ready' THEN 'vbank_ready' END WHERE status = 'ready'\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ALTER TABLE `payment` CHANGE `status` `status` enum ('pending', 'vbank_ready', 'paid', 'cancelled', 'partial_cancelled', 'failed') NOT NULL\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">public</span> <span class=\"token keyword\">async</span> <span class=\"token function\">down</span><span class=\"token punctuation\">(</span>queryRunner<span class=\"token operator\">:</span> QueryRunner<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ALTER TABLE `payment` CHANGE `status` `status` enum ('ready', 'pending', 'vbank_ready', 'paid', 'cancelled', 'partial_cancelled', 'failed') NOT NULL\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"UPDATE `payment` SET status = CASE status WHEN 'vbank_ready' THEN 'ready' WHEN 'pending' THEN 'ready' END WHERE status IN ('vbank_ready', 'pending')\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> queryRunner<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ALTER TABLE `payment` CHANGE `status` `status` enum ('ready', 'paid', 'cancelled', 'partial_cancelled', 'failed') NOT NULL\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>기존 Ready를 모두 VbankReady로 mapping하는 대신, 상황에 맞게 Pending 또는 VbankReady로 선택하고 싶을 수 있습니다. 이런 경우 Javascript 코드를 좀 더 추가해야할 수 있습니다.</p>\n<h3 id=\"references\" style=\"position:relative;\"><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>References</h3>\n<ul>\n<li><a href=\"https://dba.stackexchange.com/questions/6547/can-i-rename-the-values-in-a-mysql-enum-column-in-one-query\">Can I rename the values in a MySQL ENUM column in one query?</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%EC%86%8C%EA%B0%9C\">소개</a></p>\n</li>\n<li>\n<p><a href=\"#not-null-%EC%BB%AC%EB%9F%BC-%EC%B6%94%EA%B0%80\">NOT NULL 컬럼 추가</a></p>\n</li>\n<li>\n<p><a href=\"#enum-%EA%B0%92-%EB%B3%80%EA%B2%BD\">Enum 값 변경</a></p>\n<ul>\n<li><a href=\"#references\">References</a></li>\n</ul>\n</li>\n</ul>","fields":{"slug":"/guide/017-typeorm-migrations/"},"frontmatter":{"title":"TypeORM Migration 작성 요령","date":"2021-07-09T02:18:10.16+09:00","tags":["typeorm"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB0klEQVQoz4WRS2tTURSF1zk3UfPSBInWJlCftWhKWyMSB2fdihOdqCOlAyGagVbowIlVCgVpYkVyT6LYFEmbiuhEWvAP1Lm/of4BwXkm3rMlbQm0CG7Y7MfgY+298AexSHhHf5YvKEzXv2fe2vqlZqN+blQEv5GDe6reuIK6KyWFzeKxCEmQVLuJ/Ql3QSfDqPceIqiutYeaQTBhbWPs09yzrOQBBz0VxnWlm4gAlccw/4DsBWZ1Mkx7bQEOLqx08s2gfrFh7chyrToiACSNsqT0A4kCt6+WzhoyQzJL8jjJJElNMkrS6/VwaX0rTHnvfl4exdLi4qmGtZPW2kLrVW1gG3gY45JSncEbN+OGLNOYaZIvSLZJXvPJOMkhkgMkE3BH9Ykw7X0QQL1utU43gsBYa8eXa9Xz28AM7rmUnhUPeFScSPjGHNlVmCOZ8fsKTa8quII+FMa8lgAHFtZWTzaDgNbaKyvz84M9oNOqHMb0/W48gt7sG7PnZ36/39kjRCQWFvWqzCA5u7SRbdr6mLV2WErwupNxuOt6xg3phzKssHUm5XEH2HfZ32+KbAGug5duAx9/fcvhSXWzdyhkHXDrKMlX/HAVlXdzCu65UvhP/AWk/7r9AUEgJwAAAABJRU5ErkJggg==","aspectRatio":2.380952380952381,"src":"/static/7a77b625b6f309f3ef06d7d0208dd5e9/31987/typeorm.png","srcSet":"/static/7a77b625b6f309f3ef06d7d0208dd5e9/630fb/typeorm.png 300w,\n/static/7a77b625b6f309f3ef06d7d0208dd5e9/2a4de/typeorm.png 600w,\n/static/7a77b625b6f309f3ef06d7d0208dd5e9/31987/typeorm.png 1000w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"slug":"/guide/017-typeorm-migrations/","previous":{"excerpt":"페이스북 로그인, 어떻게 구현해야할까? 페이스북 개발자 사이트에 들어가보면 페이스북, 인스타그램 관련 기능을 붙이기 위한 SDK들이 제공됩니다. 이 SDK…","fields":{"slug":"/guide/016-react-facebook-login/"},"frontmatter":{"date":"2021-05-06T02:00:10.16+09:00","title":"React Facebook Login 페이스북 로그인 간단하게 구현하기","layout":"post","thumbnail":{"childImageSharp":{"fluid":{"originalImg":"/static/ec96f67fddd806b95d377653d0402551/49b36/facebook.jpg"}}}}},"next":{"excerpt":"…","fields":{"slug":"/guide/018-how-to-write-code-that-can-be-read-like-natural-language/"},"frontmatter":{"date":"2021-08-21T03:38:10.169Z","title":"자연어처럼 읽히는 코드 작성하기","layout":"post","thumbnail":{"childImageSharp":{"fluid":{"originalImg":"/static/a1ac28b3bec5412e768c15e9e497ad98/19ca5/natural-language.png"}}}}}}},"staticQueryHashes":["1845200029","3000541721"]}
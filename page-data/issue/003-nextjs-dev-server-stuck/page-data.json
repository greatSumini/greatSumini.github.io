{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/issue/003-nextjs-dev-server-stuck/","result":{"data":{"site":{"siteMetadata":{"title":"최수민 개발 블로그","siteUrl":"https://sumini.dev"}},"markdownRemark":{"id":"28f11f55-eedf-5a66-97c2-9189a1320f04","excerpt":"위 사진처럼 Next.js의 dev 모드에선, 특정한 경로에 대한 request가 들어오면 dev server가 해당 페이지를 build해서 제공한다. 일정 시간이 지난 후부터 dev server가 browser의 request에 반응하지 않는 문제가 있었다. 이 버그가 발생하면 dev…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 270px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACo0lEQVQ4yz1U2XLiMBDkL3Y3BwFsyQYf4Qg3+MDYhtwhgYQclf//it7qoeSHKVnG6unuaVFb2UuUeoVUx9BKYzDo4/HxEYvFApvNBrPZDPv9Hi8vL/A8D3Ecy/7u7g5ZlqHRaKDZbFZV88Y5OtMNnGAEbVnwgwBPT094fn7G7e0t1us1fn5+BKDdbsP3fYzHY4RhKM+Xl5e4uroSMILXrEUJNcvR9obQtg3P9wXo9/cXDw8PSJJEGHElEEFc1xW2fL6+vobjOBXTWq4SbJwciY7haAdBEIjUr68vYXV/f4+iKARst9tJM65lWWK73co+TVPU6/UTYKZilDoTD5WtxEP6FUWRfDyfz/Hx8SEs2azf7wvg4XCQZq+vr8K2AmxNMzTnORp+D65SCMKwYkEGlHo8HmUASim0Wi1ZXceFbdviJd9Vkt1pCW9cwOuMTh56nsj5/PysJklwyiJbemaq1+tJ8UwFmKkIhU6R6Ehiw4700EyW/nHSw+FQpk+ZTECe5/Kev1NFJXnNobgFUicRD9mRvpANpTN3BKfsTqcjTOknD5vIsCqG9ahAPcpRD3vQVkuiQGY03QAaDxkPHrIsS8AuLi6kDDvJYfemwOCmxKA9g7aV+EFA5pA3hn6+vb2JLIJOp1NMJhNZqYI3iTaxwUmyTlA6a8Q6khzSbHpoGBKQPvEwG9E7Dsl4SE/5De0QwJWKkbsZIuc0FJOz5XIpgMzj9/e3NKBk7t/f3yVSbMw9h8RmIvlfmuNPssbfMIBjW3L12JEAPERgPtNL5o4DODs7w/n5ucg0Xpr7XOsHK8x7W0zaCzhay20gM06Wd5mgJodsxH8h+slGZMdGjFQFeIh3mDSHGKkhbMuWi88PKYGHWfSv2+2KZwTgymGw+DsHZHL4H+xVFGbUrh9NAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Stucked\"\n        title=\"Stucked\"\n        src=\"/static/05706790d64ffd4e56dc75c6aca6ea92/01bf6/stucked.png\"\n        srcset=\"/static/05706790d64ffd4e56dc75c6aca6ea92/772e8/stucked.png 200w,\n/static/05706790d64ffd4e56dc75c6aca6ea92/01bf6/stucked.png 270w\"\n        sizes=\"(max-width: 270px) 100vw, 270px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>위 사진처럼 Next.js의 dev 모드에선, 특정한 경로에 대한 request가 들어오면 dev server가 해당 페이지를 build해서 제공한다.</p>\n<p>일정 시간이 지난 후부터 dev server가 browser의 request에 반응하지 않는 문제가 있었다.</p>\n<p>이 버그가 발생하면 dev server를 종료하고 재시작해야해서 매우 불편했다.</p>\n<p>프로젝트 폴더를 삭제해보고 컴퓨터를 바꿔봐도 해결되지 않았는데, 결론은 브라우저 문제였다.</p>\n<h3 id=\"솔루션\" style=\"position:relative;\"><a href=\"#%EC%86%94%EB%A3%A8%EC%85%98\" aria-label=\"솔루션 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>솔루션</h3>\n<p>캐시된 service worker가 쌓여서 발생하는 것이라고 한다.</p>\n<p>크롬 개발자 도구 -> Application -> Clear Storage 로 접근해서 <del>Clear site data</del>를 해주면 정상적으로 작동한다.</p>\n<p><a href=\"chrome://serviceworker-internals/\">크롬 ServiceWorker 도구</a> 페이지에 접속해서 모두 Unregister하는 방법으로도 해결 가능하다.</p>\n<p>위 페이지에 접속해서 아래 명령어를 입력하는 것으로 쉽게 모두 Unregister할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\">document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button.unregister'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  item<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"ref\" style=\"position:relative;\"><a href=\"#ref\" aria-label=\"ref permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ref</h3>\n<ul>\n<li><a href=\"https://github.com/vercel/next.js/issues/10061\">Next.js dev server gets stuck after a while, requests just spin</a></li>\n</ul>","tableOfContents":"<ul>\n<li><a href=\"#%EC%86%94%EB%A3%A8%EC%85%98\">솔루션</a></li>\n<li><a href=\"#ref\">Ref</a></li>\n</ul>","fields":{"slug":"/issue/003-nextjs-dev-server-stuck/"},"frontmatter":{"title":"Next.js dev server 멈추는 현상 해결하는 법","date":"2020-11-29T16:19:10.169Z","tags":["nextjs"],"thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQ0lEQVQoz3WO60tTARjG9wcJQkWWoTDnNJVuYlRqUKJtpWaKlRaESkSUn7pQH3IS3VDRlEwszWxqQcJc7na2c3a2nbWNqS2VnEydv3DqEqEPD8/Le/m9j8qdbWGnJM100qWsLam3XLNV79jZfa/a3Ugu5lqQj9qQ8614i+ybftqB94yQhCcfb0nU/PgPMGs6AfBfEFHKXPiKBfx6Ed9ZAW+xAylnE7YBcGnMuLUWfLkOgnniP+D2l2TCnI2EVrznBORSO1KRFfmEDeW4QOCklJgHtRLhbAkx08zk/jH6UrpR7Yy7oUSdPY1Ha0PRCoQKZGbyfYTVXjyZdqbSxjGmDuJSm3l1oI36vQ3o0iupLtRz86IO1XbcUJ6bwGExkVDJErCmTzKx7yOdKQYe7blD08Faag5VoC/Q0XypGafWzKcHg5j6rjPXW0t8qA6MDaicGVNM7v9CV8oLelJf41SbaUq7QW2+nqpTl6k/f5tbZS+5r5ug/UqQ5+Ur+L9DqMJJtGMBAsNg7Gep38Ti2E9UlWo91YVVXCu/SndLF3KBBceIREfjCm/KYKAeRlvgWyuYn4HTsMyiJ0aoQSZ0TyHSG0XUyogZDpQSJyp7nYlAtYto4wzI4DlmY+nDEsroLHPDX4l+NrDuMxIXo6wOBFgZCrOmRJl7EiRQ42a+K4wrzYSnVMCp86Gaf7uA/90f5NFlfimr+MsFZtvDYG1lve0Ia481xEfuEnGsY+uMMf5wDeNTiLyP4Cux89sWw2yIYemJI43DXzXFW2X56XKGAAAAAElFTkSuQmCC","aspectRatio":1.9867549668874172,"src":"/static/bbc016fa1685c64a2b61da4817186d6c/3225f/nextjs.png","srcSet":"/static/bbc016fa1685c64a2b61da4817186d6c/630fb/nextjs.png 300w,\n/static/bbc016fa1685c64a2b61da4817186d6c/2a4de/nextjs.png 600w,\n/static/bbc016fa1685c64a2b61da4817186d6c/3225f/nextjs.png 920w","sizes":"(max-width: 920px) 100vw, 920px"}}}}}},"pageContext":{"slug":"/issue/003-nextjs-dev-server-stuck/","previous":{"excerpt":"종류 UNDETERMINED 초기값이다. gesture 인식을 대기하는 중인 상태다. FAILED Handler가 touch를 인식했으나, 활성화(activated)되지 못한 상태다. 이후 로 전환된다. BEGAN Handler가 touch…","fields":{"slug":"/til/012-handler-state/"},"frontmatter":{"date":"2020-11-29T01:26:10.169Z","title":"RN Gesture Handler : Handler의 상태 (3)","layout":"post","thumbnail":{"childImageSharp":{"fluid":{"originalImg":"/static/631b10b28bb087e7c348edc654b52656/88e49/react-native.png"}}}}},"next":{"excerpt":"소개 git에 대한 개념과 기본 명령어들은 물론 숙지해야겠지만, 실제로 활용할 때는 GUI가 제공되는 툴을 사용하는 것이 더 좋다고 생각합니다. GUI가 CLI 보다 훨씬 빠르고, 직관적이고, 실수할 여지가 적기 때문입니다. 저도 git commit…","fields":{"slug":"/til/013-git-add-p/"},"frontmatter":{"date":"2020-11-29T16:55:10.169Z","title":"git add -p 사용법 (y, n, q, s, e)","layout":"post","thumbnail":{"childImageSharp":{"fluid":{"originalImg":"/static/c1ef02c0d9ffd4bb5ee971a48cd8bcaa/d2452/git.jpg"}}}}}}},"staticQueryHashes":["1845200029","3000541721"]}